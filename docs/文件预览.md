# 文件预览

> 预览或下载已上传的文件。此端点允许您访问之前通过文件上传API上传的文件。文件只能在所属的应用程序消息内访问。

## OpenAPI

````yaml zh-hans/openapi_chatflow.json get /files/{file_id}/preview
paths:
  path: /files/{file_id}/preview
  method: get
  servers:
    - url: '{api_base_url}'
      description: API 的基础 URL。请将 {api_base_url} 替换为您的应用提供的实际 API 基础 URL。
      variables:
        api_base_url:
          type: string
          description: 实际的 API 基础 URL
          default: https://api.dify.ai/v1
  request:
    security:
      - title: ApiKeyAuth
        parameters:
          query: {}
          header:
            Authorization:
              type: http
              scheme: bearer
              description: >-
                API-Key 鉴权。所有 API 请求都应在 Authorization HTTP Header 中包含您的
                API-Key，格式为：Bearer {API_KEY}。强烈建议开发者把 API-Key 放在后端存储，而非客户端，以免泄露。
          cookie: {}
    parameters:
      path:
        file_id:
          schema:
            - type: string
              required: true
              description: 要预览的文件的唯一标识符，从文件上传API响应中获取。
              format: uuid
      query:
        as_attachment:
          schema:
            - type: boolean
              required: false
              description: 是否强制作为附件下载文件。默认为`false`（在浏览器中预览）。
              default: false
      header: {}
      cookie: {}
    body: {}
  response:
    '200':
      image/png:
        schemaArray:
          - type: file
            contentEncoding: binary
        examples:
          example: {}
        description: 文件内容成功返回。根据文件类型和请求参数设置响应头。
      image/jpeg:
        schemaArray:
          - type: file
            contentEncoding: binary
        examples:
          example: {}
        description: 文件内容成功返回。根据文件类型和请求参数设置响应头。
      image/webp:
        schemaArray:
          - type: file
            contentEncoding: binary
        examples:
          example: {}
        description: 文件内容成功返回。根据文件类型和请求参数设置响应头。
      image/gif:
        schemaArray:
          - type: file
            contentEncoding: binary
        examples:
          example: {}
        description: 文件内容成功返回。根据文件类型和请求参数设置响应头。
      application/octet-stream:
        schemaArray:
          - type: file
            contentEncoding: binary
        examples:
          example: {}
        description: 文件内容成功返回。根据文件类型和请求参数设置响应头。
    '400':
      application/json:
        schemaArray:
          - type: object
            properties:
              status:
                allOf:
                  - &ref_0
                    type: integer
                    nullable: true
                    description: HTTP 状态码。
              code:
                allOf:
                  - &ref_1
                    type: string
                    nullable: true
                    description: 错误码。
              message:
                allOf:
                  - &ref_2
                    type: string
                    description: 错误消息。
            description: 错误响应。
            refIdentifier: '#/components/schemas/ErrorResponseCn'
        examples:
          example:
            value:
              status: 123
              code: <string>
              message: <string>
        description: |-
          错误请求。可能的错误代码:
          - `invalid_param`: 异常参数输入。
    '403':
      application/json:
        schemaArray:
          - type: object
            properties:
              status:
                allOf:
                  - *ref_0
              code:
                allOf:
                  - *ref_1
              message:
                allOf:
                  - *ref_2
            description: 错误响应。
            refIdentifier: '#/components/schemas/ErrorResponseCn'
        examples:
          example:
            value:
              status: 123
              code: <string>
              message: <string>
        description: |-
          禁止访问。可能的错误代码:
          - `file_access_denied`: 文件访问被拒绝或文件不属于当前应用程序。
    '404':
      application/json:
        schemaArray:
          - type: object
            properties:
              status:
                allOf:
                  - *ref_0
              code:
                allOf:
                  - *ref_1
              message:
                allOf:
                  - *ref_2
            description: 错误响应。
            refIdentifier: '#/components/schemas/ErrorResponseCn'
        examples:
          example:
            value:
              status: 123
              code: <string>
              message: <string>
        description: |-
          未找到。可能的错误代码:
          - `file_not_found`: 文件未找到或已被删除。
    '500':
      application/json:
        schemaArray:
          - type: object
            properties:
              status:
                allOf:
                  - *ref_0
              code:
                allOf:
                  - *ref_1
              message:
                allOf:
                  - *ref_2
            description: 错误响应。
            refIdentifier: '#/components/schemas/ErrorResponseCn'
        examples:
          example:
            value:
              status: 123
              code: <string>
              message: <string>
        description: 内部服务器错误。
  deprecated: false
  type: path
components:
  schemas: {}

````